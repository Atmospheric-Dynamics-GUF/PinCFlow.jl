<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Output · PinCFlow.jl</title><meta name="title" content="Output · PinCFlow.jl"/><meta property="og:title" content="Output · PinCFlow.jl"/><meta property="twitter:title" content="Output · PinCFlow.jl"/><meta name="description" content="Documentation for PinCFlow.jl."/><meta property="og:description" content="Documentation for PinCFlow.jl."/><meta property="twitter:description" content="Documentation for PinCFlow.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PinCFlow.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../examples/">Examples</a></li><li><span class="tocitem">Theory</span><ul><li><a class="tocitem" href="../../theory/physics/">Physics</a></li><li><a class="tocitem" href="../../theory/numerics/">Numerics</a></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../pincflow/">PinCFlow</a></li><li><a class="tocitem" href="../types/">Types</a></li><li><a class="tocitem" href="../mpi_operations/">MPIOperations</a></li><li><a class="tocitem" href="../boundaries/">Boundaries</a></li><li><a class="tocitem" href="../flux_calculator/">FluxCalculator</a></li><li><a class="tocitem" href="../poisson_solver/">PoissonSolver</a></li><li><a class="tocitem" href="../update/">Update</a></li><li><a class="tocitem" href="../msgwam/">MSGWaM</a></li><li><a class="tocitem" href="../integration/">Integration</a></li><li class="is-active"><a class="tocitem" href>Output</a></li></ul></li><li><a class="tocitem" href="../../developer_guide/">Developer guide</a></li><li><a class="tocitem" href="../../changelog/">Changelog</a></li><li><a class="tocitem" href="../../authors/">Authors</a></li><li><a class="tocitem" href="../../contributing/">Contributing</a></li><li><a class="tocitem" href="../../code_of_conduct/">Code of Conduct</a></li><li><a class="tocitem" href="../../license/">License</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Reference</a></li><li class="is-active"><a href>Output</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Output</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Atmospheric-Dynamics-GUF/PinCFlow.jl.git" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Output"><a class="docs-heading-anchor" href="#Output">Output</a><a id="Output-1"></a><a class="docs-heading-anchor-permalink" href="#Output" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="PinCFlow.Output"><a class="docstring-binding" href="#PinCFlow.Output"><code>PinCFlow.Output</code></a> — <span class="docstring-category">Module</span></summary><section><div><pre><code class="language-julia hljs">Output</code></pre><p>Module for I/O of simulation data.</p><p>Provides functions for writing the model state and initializing the model with data from a previous simulation.</p><p><strong>See also</strong></p><ul><li><p><a href="../types/#PinCFlow.Types"><code>PinCFlow.Types</code></a></p></li><li><p><a href="../update/#PinCFlow.Update"><code>PinCFlow.Update</code></a></p></li></ul></div></section></details></article><article><details class="docstring" open="true"><summary id="PinCFlow.Output.create_output"><a class="docstring-binding" href="#PinCFlow.Output.create_output"><code>PinCFlow.Output.create_output</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">create_output(state::State)</code></pre><p>Create an HDF5 output file with one dataset for each variable.</p><p>The dimensions of the datasets are set to those of the domain, whereas the chunks are set to the dimensions of the MPI subdomains, in preparation for parallel output. Datasets for the grid, i.e. the fields <code>x</code>, <code>y</code> and <code>zc</code> of <code>state.grid</code>, the time and the fields of <code>state.atmosphere</code> are always created, regardless of the specifications in <code>state.namelists.output</code>. The one exception to this is the Boussinesq mode, in which no datasets are created for the fields of <code>state.atmosphere</code>, since they do not have a spatial dependence.</p><p><strong>Arguments</strong></p><ul><li><code>state</code>: Model state.</li></ul></div></section></details></article><article><details class="docstring" open="true"><summary id="PinCFlow.Output.read_input!"><a class="docstring-binding" href="#PinCFlow.Output.read_input!"><code>PinCFlow.Output.read_input!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">read_input!(state::State)</code></pre><p>Read initial values for all prognostic variables from an HDF5 input file.</p><p><strong>Arguments</strong></p><ul><li><code>state</code>: Model state.</li></ul></div></section></details></article><article><details class="docstring" open="true"><summary id="PinCFlow.Output.write_output"><a class="docstring-binding" href="#PinCFlow.Output.write_output"><code>PinCFlow.Output.write_output</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">write_output(
    state::State,
    time::AbstractFloat,
    iout::Integer,
    machine_start_time::DateTime,
)::Integer</code></pre><p>Write the current simulation state to a previously created HDF5 output file and return the advanced output counter <code>iout</code>.</p><p>The output is written in parallel, using the chunking prepared by <code>create_output</code>. The grid, i.e. the fields <code>x</code>, <code>y</code> and <code>zc</code> of <code>state.grid</code>, as well as the fields of <code>state.atmosphere</code> are only written if <code>iout == 1</code> (which should only be the case for the initial output). In Boussinesq mode, the fields of <code>state.atmosphere</code> do not have a spatial dependence and are therefore not written at all. In compressible mode, the mass-weighted potential temperature and squared buoyancy frequency have a temporal dependence and are therefore written even if <code>iout != 1</code>. Any other field is only written if it is listed in <code>state.namelists.output.output_variables</code> or if it is essential for restarts and <code>state.namelists.output.prepare_restart == true</code>.</p><p>The list of available output variables (as specified in <code>state.namelists.output.output_variables</code>) is as follows.</p><ul><li><p><code>:rhop</code>: Density fluctuations (restart variable).</p></li><li><p><code>:u</code>: Zonal wind.</p></li><li><p><code>:us</code>: Staggered zonal wind (restart variable).</p></li><li><p><code>:v</code>: Meridional wind.</p></li><li><p><code>:vs</code>: Staggered meridional wind (restart variable).</p></li><li><p><code>:w</code>: Vertical wind (computed with <code>compute_vertical_wind</code>).</p></li><li><p><code>:ws</code>: Staggered vertical wind (computed with <code>compute_vertical_wind</code>).</p></li><li><p><code>:wt</code>: Transformed vertical wind.</p></li><li><p><code>:wts</code>: Staggered transformed vertical wind (restart variable).</p></li><li><p><code>:thetap</code>: Potential-temperature fluctuations.</p></li><li><p><code>:pip</code>: Exner-pressure fluctuations (restart variable).</p></li><li><p><code>:dudt</code>: Zonal-momentum drag due to unresolved gravity waves.</p></li><li><p><code>:dvdt</code>: Meridional-momentum drag due to unresolved gravity waves.</p></li><li><p><code>:dthetadt</code>: Mass-weighted potential-temperature tendency due to unresolved gravity waves.</p></li><li><p><code>:dchidt</code>: Leading-order tracer impact of unresolved gravity waves.</p></li><li><p><code>:uchi</code>: Zonal tracer fluxes due to unresolved gravity waves.</p></li><li><p><code>:vchi</code>: Meridional tracer fluxes due to unresolved gravity waves.</p></li><li><p><code>:wchi</code>: Vertical tracer fluxes due to unresolved gravity waves.</p></li></ul><p>An output of all ray-volume properties is provided if <code>state.namelists.output.save_ray_volumes == true</code> and/or <code>state.namelists.output.prepare_restart == true</code>.</p><p>All output variables are re-dimensionalized with the scale parameters stored in <code>state.constants</code>.</p><p><strong>Arguments</strong></p><ul><li><p><code>state</code>: Model state.</p></li><li><p><code>time</code>: Simulation time.</p></li><li><p><code>iout</code>: Output counter. This is the temporal index of the output. It is advanced before the output is written, so that the first call of <code>write_output</code> should receive <code>iout = 0</code>.</p></li><li><p><code>machine_start_time</code>: Wall-clock start time.</p></li></ul><p><strong>See also</strong></p><ul><li><a href="../update/#PinCFlow.Update.compute_vertical_wind"><code>PinCFlow.Update.compute_vertical_wind</code></a></li></ul></div></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../integration/">« Integration</a><a class="docs-footer-nextpage" href="../../developer_guide/">Developer guide »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Saturday 13 December 2025 01:16">Saturday 13 December 2025</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
